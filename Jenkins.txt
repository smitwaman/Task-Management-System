





    stage("Maven Build") {
      steps {
        script {
                      sh "mvn clean package"
                }
             }
          }
    

    stage('SonarQube Analysis') {
      steps {
                script {
                     withSonarQubeEnv(credentialsId: 'sonar') {
                                          sh 'mvn clean verify sonar:sonar \ -Dsonar.projectKey=hello-world \ -Dsonar.host.url=http://localhost:9000 \ -Dsonar.login=$SONAR_TOKEN'
                     }
                  }
               }
           }





 stage("TRIVY"){
      steps{
             sh "trivy image --scanners vuln smitwaman/helloworld:latest > trivy.txt"
          }  
        } 
  
   
